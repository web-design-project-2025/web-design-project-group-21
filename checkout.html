<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checkout</title>
    <link rel="stylesheet" href="checkout.css" />
  </head>
  <body>
    <header class="top-bar">
      <div class="logo">
        <img src="img/logo-small.png" alt="GlobalGuide Sweden" />
      </div>
      <nav class="top-nav">
        <a href="index.html">Home</a>
        <a href="activities.html">Activities</a>
        <a href="bookinghistory.html">My bookings</a>
        <a href="helpcenter.html">Help center</a>
        <a href="editorial.html">Insights</a>
      </nav>
      <div class="top-right">
        <a href="login.html">ðŸ‘¤ Log in</a>
        <a href="cart.html" title="Cart">ðŸ›’</a>
      </div>
    </header>

    <main class="checkout-grid">
      <section class="form-block">
        <h2>Please fill in your details below</h2>
        <label>Email:</label>
        <input type="email" />
        <label>Phone number:</label>
        <input type="tel" />

        <div class="name-fields">
          <div>
            <label>First name:</label>
            <input type="text" />
          </div>
          <div>
            <label>Last name:</label>
            <input type="text" />
          </div>
        </div>

        <h4>Number of guests:</h4>
        <div class="guest-selectors">
          <div>
            <label>Adults:</label>
            <select>
              <option>0</option>
              <option selected>1</option>
              <option>2</option>
            </select>
          </div>
          <div>
            <label>Children:</label>
            <select>
              <option selected>0</option>
              <option>1</option>
              <option>2</option>
            </select>
          </div>
        </div>

        <label>Check-in date:</label>
        <input type="date" />
        <label>Check-out date:</label>
        <input type="date" />
      </section>

      <section class="summary-block">
        <h3 class="summary-title">Order summary</h3>
        <div id="orderDetails">Loading cart details...</div>

        <div class="payment-section">
          <h4>Payment options</h4>
          <label><input type="checkbox" checked /> Paypal</label>
          <label><input type="checkbox" /> Card</label>
        </div>

        <button
          class="book-btn"
          onclick="location.href='confirmationpage.html'"
        >
          Book now
        </button>
      </section>
    </main>

    <script>
      const cart = JSON.parse(localStorage.getItem("cart") || "[]");
      const container = document.getElementById("orderDetails");

      if (cart.length === 0) {
        container.innerHTML = "<p>Your cart is empty.</p>";
      } else {
        let total = 0;
        const html = cart
          .map((item) => {
            total += parseInt(item.price);
            return `<div class="summary-line"><span>${item.title}</span><span>${item.price} SEK</span></div>`;
          })
          .join("");

        container.innerHTML = `
        ${html}
        <div class="summary-line total"><span>Total to pay</span><span><strong>${total} SEK</strong></span></div>
      `;
      }
    </script>
  </body>
</html>
